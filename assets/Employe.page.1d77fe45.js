import{C as g}from"./cardListCustom.9da36656.js";import{c as i,i as A,j as p}from"./QCard.8092dba0.js";import{Q as U,b as E,C as v}from"./ClosePopup.fb88ff66.js";import{I as $}from"./InputField.ebc67f31.js";import{u as y}from"./employe.store.10e758bd.js";import{u as b,r as f,M as h,_ as V,x as d,y as c,D as F,d as a,A as n,p as S,F as C,B,o as w}from"./index.51a95478.js";import{P}from"./PageTitleWithButton.b0e53425.js";import"./QCircularProgress.9967646b.js";import"./QIcon.296b631e.js";import"./format.2a3572e1.js";import"./QList.a0aa69f9.js";import"./QMenu.0b46f048.js";import"./Avatar.component.a95ff03b.js";import"./QBadge.893511a3.js";import"./QAvatar.b1ae1813.js";import"./index.a88b22f4.js";import"./client.store.9f12f916.js";import"./uid.42677368.js";const I=b({name:"AddUserAction",components:{InputField:$},setup(){const e=f(!1),o=f(!1),r=y(),m={nom:"",prenom:"",cni:"",tel:"",email:"",basesalary:""},s=h({...m});return{addUserModal:e,userFormData:s,handleSubmit:async()=>{o.value=!0,await r.handleAddEmploye(s),Object.assign(s,m),o.value=!1,e.value=!1},adding:o}}}),M=B("div",{class:"text-h6"},"Ajout d'un employ\xE9",-1);function Q(e,o,r,m,s,u){const t=d("InputField");return c(),F(C,null,[a(i,{label:"Ajouter un employ\xE9",color:"primary",icon:"add",unelevated:"",class:"btn",onClick:o[0]||(o[0]=l=>e.addUserModal=!0)}),a(E,{modelValue:e.addUserModal,"onUpdate:modelValue":o[7]||(o[7]=l=>e.addUserModal=l),persistent:""},{default:n(()=>[a(A,{style:{width:"500px","max-width":"70vw",margin:"auto"}},{default:n(()=>[a(p,null,{default:n(()=>[M]),_:1}),a(p,{class:"q-pt-none"},{default:n(()=>[a(t,{label:"Noms",modelValue:e.userFormData.nom,"onUpdate:modelValue":o[1]||(o[1]=l=>e.userFormData.nom=l)},null,8,["modelValue"]),a(t,{label:"Prenoms",modelValue:e.userFormData.prenom,"onUpdate:modelValue":o[2]||(o[2]=l=>e.userFormData.prenom=l)},null,8,["modelValue"]),a(t,{label:"CNI",modelValue:e.userFormData.cni,"onUpdate:modelValue":o[3]||(o[3]=l=>e.userFormData.cni=l)},null,8,["modelValue"]),a(t,{type:"number",label:"Num\xE9ro de t\xE9l\xE9phone",modelValue:e.userFormData.tel,"onUpdate:modelValue":o[4]||(o[4]=l=>e.userFormData.tel=l)},null,8,["modelValue"]),a(t,{type:"email",label:"Adresse email",modelValue:e.userFormData.email,"onUpdate:modelValue":o[5]||(o[5]=l=>e.userFormData.email=l)},null,8,["modelValue"]),a(t,{type:"number",label:"Salaire",modelValue:e.userFormData.basesalary,"onUpdate:modelValue":o[6]||(o[6]=l=>e.userFormData.basesalary=l)},null,8,["modelValue"])]),_:1}),a(U,{align:"right",class:"text-primary"},{default:n(()=>[S(a(i,{flat:"",label:"Fermer",color:"red",class:"btn"},null,512),[[v]]),a(i,{label:"Ajouter",class:"btn btn-custom text-sm",color:"primary",icon:"add",disable:e.adding,onClick:e.handleSubmit},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var j=V(I,[["render",Q]]);const k=b({name:"EmployePage",components:{PageTitleWithButton:P,AddUserAction:j,CardListCustom:g},setup(){const e=y();return w(()=>{e.fetchEmployes()}),{employeStore:e,head:["nom","tel","id"],handleDelete:async r=>{await e.deleteEmploye(r),console.log("data deleted")}}}});function N(e,o,r,m,s,u){const t=d("AddUserAction"),l=d("PageTitleWithButton"),D=d("CardListCustom");return c(),F(C,null,[a(l,{title:"Gestion des employ\xE9s"},{default:n(()=>[a(t)]),_:1}),a(D,{items:e.employeStore.employes,loading:e.employeStore.loading,head:e.head,action:e.handleDelete,"hide-img":!0},null,8,["items","loading","head","action"])],64)}var ae=V(k,[["render",N]]);export{ae as default};
