import{C as F}from"./cardListCustom.9da36656.js";import{c as d,i as A,j as p}from"./QCard.8092dba0.js";import{Q as y,b as U,C as h}from"./ClosePopup.fb88ff66.js";import{I as v}from"./InputField.ebc67f31.js";import{u as c}from"./client.store.9f12f916.js";import{u as f,r as $,M as S,_ as C,x as s,y as g,D as b,d as o,A as r,p as B,F as V,B as w,o as P}from"./index.51a95478.js";import{P as q}from"./PageTitleWithButton.b0e53425.js";import"./QCircularProgress.9967646b.js";import"./QIcon.296b631e.js";import"./format.2a3572e1.js";import"./QList.a0aa69f9.js";import"./QMenu.0b46f048.js";import"./Avatar.component.a95ff03b.js";import"./QBadge.893511a3.js";import"./QAvatar.b1ae1813.js";import"./index.a88b22f4.js";import"./uid.42677368.js";const M=f({name:"AddClientAction",components:{InputField:v},setup(){const e=$(!1),t=c(),n={nom:"",prenom:"",lieux:"",tel:"",email:""},i=S({...n});return{addUserModal:e,userFormData:i,handleSubmit:async()=>{await t.setUser(i)?(Object.assign(i,n),e.value=!1):console.log("Connot add client")},client:t}}}),Q=w("div",{class:"text-h6"},"Nouveau client",-1);function k(e,t,n,i,m,u){const a=s("InputField");return g(),b(V,null,[o(d,{label:"Ajouter un client",color:"primary",icon:"add",unelevated:"",class:"btn",onClick:t[0]||(t[0]=l=>e.addUserModal=!0)}),o(U,{modelValue:e.addUserModal,"onUpdate:modelValue":t[6]||(t[6]=l=>e.addUserModal=l),persistent:""},{default:r(()=>[o(A,{style:{width:"500px","max-width":"70vw",margin:"auto"}},{default:r(()=>[o(p,null,{default:r(()=>[Q]),_:1}),o(p,{class:"q-pt-none"},{default:r(()=>[o(a,{required:"",type:"text",label:"Noms",modelValue:e.userFormData.nom,"onUpdate:modelValue":t[1]||(t[1]=l=>e.userFormData.nom=l)},null,8,["modelValue"]),o(a,{required:"",type:"text",label:"Prenoms",modelValue:e.userFormData.prenom,"onUpdate:modelValue":t[2]||(t[2]=l=>e.userFormData.prenom=l)},null,8,["modelValue"]),o(a,{required:"",type:"number",label:"Num\xE9ro de t\xE9l\xE9phone",modelValue:e.userFormData.tel,"onUpdate:modelValue":t[3]||(t[3]=l=>e.userFormData.tel=l)},null,8,["modelValue"]),o(a,{required:"",type:"email",label:"Adresse email",modelValue:e.userFormData.email,"onUpdate:modelValue":t[4]||(t[4]=l=>e.userFormData.email=l)},null,8,["modelValue"]),o(a,{required:"",type:"location",label:"Lieux",placeholder:"ex: Douala, logpom",modelValue:e.userFormData.lieux,"onUpdate:modelValue":t[5]||(t[5]=l=>e.userFormData.lieux=l)},null,8,["modelValue"])]),_:1}),o(y,{align:"right",class:"text-primary"},{default:r(()=>[B(o(d,{flat:"",label:"Fermer",color:"red",class:"btn"},null,512),[[h]]),o(d,{label:"Ajouter le client",class:"btn btn-custom text-sm",color:"primary",icon:"add",loading:e.client.loading,disable:e.client.loading,onClick:e.handleSubmit},null,8,["loading","disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var I=C(M,[["render",k]]);const N=f({name:"ClientPage",components:{PageTitleWithButton:q,AddClientAction:I,CardListCustom:F},setup(){const e=c();return P(()=>{e.fetchClients()}),{clientStore:e,handleDelete:async n=>{await e.deleteUser(n),console.log("data deleted")},head:["nom","tel","id"]}}});function j(e,t,n,i,m,u){const a=s("AddClientAction"),l=s("PageTitleWithButton"),D=s("CardListCustom");return g(),b(V,null,[o(l,{title:"Gestion des clients"},{default:r(()=>[o(a)]),_:1}),o(D,{items:e.clientStore.clients,loading:e.clientStore.loading,head:e.head,action:e.handleDelete},null,8,["items","loading","head","action"])],64)}var te=C(N,[["render",j]]);export{te as default};
