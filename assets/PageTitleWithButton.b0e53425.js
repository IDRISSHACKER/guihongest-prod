import{c as p,i as A,j as C,m as O}from"./QCard.8092dba0.js";import{c as M,Q as U,b as W,C as H}from"./ClosePopup.fb88ff66.js";import{I as L}from"./InputField.ebc67f31.js";import{u as T,r as s,M as G,_ as F,x as J,y as b,D as z,z as q,d as r,A as m,B as S,C as _,p as K,F as X,c as h,w as Y,n as Z,h as c,$ as x,ag as ee}from"./index.51a95478.js";import{c as te,b as le}from"./QIcon.296b631e.js";const ae=T({name:"DeletePermissionAction",components:{InputField:L},props:{action:{type:Function,default:()=>null},value:{type:String,default:()=>""},customBtn:{type:Boolean,default:()=>!1},icon:{type:String,default:()=>"more"},color:{type:String,default:()=>"red"},label:{type:String,default:()=>"Suprimer"},deleteMsgTitle:{type:String,default:()=>"Souhaitez vous suprimer cette ressource"},deleteMsgContent:{type:String,default:()=>""}},setup(e){const l=s(!1),i=s(!1),d=s("Echec d'authentification"),u=s(!1),n={password:""},a=G({...n});return{deleteModel:l,userFormData:a,handleSubmit:async()=>{a.password==="0000"?(i.value=!1,Object.assign(a,n),u.value=!0,await e.action(e.value),u.value=!1,l.value=!1):(i.value=!0,console.log("Mot de passe incorect"))},authErr:i,authErrMsg:d,loading:u}}}),ne=S("img",{src:"/public/illustration/security.svg",style:{width:"100px",height:"auto"}},null,-1),ie=S("div",{class:"text-h6"},"Permission requise",-1),oe={class:"text-h3-custom"},re={class:"text-paragraph"};function se(e,l,i,d,u,n){const a=J("InputField");return b(),z(X,null,[e.customBtn?(b(),q(p,{key:1,onClick:l[1]||(l[1]=o=>e.deleteModel=!0),label:e.label,class:"btn",icon:e.icon,color:e.color,flat:""},null,8,["label","icon","color"])):(b(),q(p,{key:0,size:"sm","q-btn":"",icon:"delete",color:"red",flat:"",onClick:l[0]||(l[0]=o=>e.deleteModel=!0),label:"Suprimer",class:"btn"})),r(W,{modelValue:e.deleteModel,"onUpdate:modelValue":l[3]||(l[3]=o=>e.deleteModel=o),persistent:""},{default:m(()=>[r(A,{style:{width:"380px","max-width":"70vw",margin:"auto"},bordered:"",flat:""},{default:m(()=>[r(C,{class:"abs-center column"},{default:m(()=>[ne,ie]),_:1}),r(M),r(C,{class:"abs-center column"},{default:m(()=>[S("h3",oe,_(e.deleteMsgTitle),1),S("p",re,_(e.deleteMsgContent),1)]),_:1}),r(C,{class:"q-pt-none"},{default:m(()=>[r(a,{type:"password",autofocus:"",error:e.authErr,"error-message":e.authErrMsg,label:"Code pin",modelValue:e.userFormData.password,"onUpdate:modelValue":l[2]||(l[2]=o=>e.userFormData.password=o)},null,8,["error","error-message","modelValue"])]),_:1}),r(M),r(U,{align:"right",class:"text-primary"},{default:m(()=>[K(r(p,{flat:"",label:"Annuler",color:"black",class:"btn"},null,512),[[H]]),r(p,{label:"Suprimer",class:"btn",color:"primary","icon-right":"fa-solid fa-check-circle",unelevated:"",onClick:e.handleSubmit,loading:e.loading,disable:e.loading},null,8,["onClick","loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var Ce=F(ae,[["render",se]]);const ue={ratio:[String,Number]};function ce(e,l){return h(()=>{const i=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const de=16/9;var _e=te({name:"QImg",props:{...ue,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:de},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:i}){const d=s(e.initialRatio),u=ce(e,d);let n;const a=[s(null),s(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],o=s(0),f=s(!1),v=s(!1),Q=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),D=h(()=>({width:e.width,height:e.height})),I=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),N=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Y(()=>w(),$);function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function $(t){if(clearTimeout(n),v.value=!1,t===null){f.value=!1,a[0].value=null,a[1].value=null;return}f.value=!0,a[o.value].value=t}function E({target:t}){n!==null&&(clearTimeout(n),d.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,B(t,1))}function B(t,g){n===null||g===1e3||(t.complete===!0?P(t):n=setTimeout(()=>{B(t,g+1)},50))}function P(t){n!==null&&(o.value=o.value===1?0:1,a[o.value].value=null,f.value=!1,v.value=!1,i("load",t.currentSrc||t.src))}function V(t){clearTimeout(n),f.value=!1,v.value=!0,a[0].value=null,a[1].value=null,i("error",t)}function j(t,g){return c("div",{class:"q-img__container absolute-full",key:t},g)}function k(t){const g=a[t].value,y={key:"img_"+t,class:I.value,style:N.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return o.value===t?(y.class+=" q-img__image--waiting",Object.assign(y,{onLoad:E,onError:V})):y.class+=" q-img__image--loaded",j("img"+t,c("img",y))}function R(){return f.value!==!0?c("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},le(l[v.value===!0?"error":"default"])):c("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[c(O,{color:e.spinnerColor,size:e.spinnerSize})])}return $(w()),Z(()=>{clearTimeout(n),n=null}),()=>{const t=[];return u.value!==null&&t.push(c("div",{key:"filler",style:u.value})),v.value!==!0&&(a[0].value!==null&&t.push(k(0)),a[1].value!==null&&t.push(k(1))),t.push(c(x,{name:"q-transition--fade"},R)),c("div",{class:Q.value,style:D.value,role:"img","aria-label":e.alt},t)}}});const ge=T({name:"PageTitleWithButton",props:{title:{type:String,default:()=>"Title"}}}),me={class:"page-title"},fe={class:"text-h1-custom"};function ve(e,l,i,d,u,n){return b(),z("div",me,[S("h1",fe,_(e.title),1),ee(e.$slots,"default")])}var we=F(ge,[["render",ve]]);export{Ce as D,we as P,_e as Q};
